import { Knex } from 'knex';

const tableName = 'city';

export async function seed(knex: Knex): Promise<void> {
  const [{ count }] = await knex(tableName).count();
  if (Number(count) > 0) return;

  // Fetch country IDs
  const countries = await knex('country').select<
    { id: number; name: string }[]
  >('id', 'name');

  // Map country names to their IDs
  const countryMap = Object.fromEntries(
    countries.map((country) => [country.name, country.id]),
  );

  // Insert cities
  await knex(tableName).insert([
    { name: 'Charleston', country_id: countryMap['USA SC'] },
    { name: 'Dallas', country_id: countryMap['USA TX'] },
    { name: 'Casablanca', country_id: countryMap['Morocco'] },
    { name: 'Phnom Penh', country_id: countryMap['Cambodia'] },
    { name: 'Hong Kong', country_id: countryMap['China'] },
    { name: 'Moscow', country_id: countryMap['Russia'] },
    { name: 'Saskatoon', country_id: countryMap['Canada Saskatchewan'] },
    { name: 'Tampa', country_id: countryMap['USA FL'] },
    { name: 'Maui', country_id: countryMap['USA HI'] },
    { name: 'Seattle', country_id: countryMap['USA WA'] },
    { name: 'León', country_id: countryMap['Nicaragua'] },
    { name: 'Paris', country_id: countryMap['France'] },
    { name: 'Rotterdam', country_id: countryMap['Netherlands'] },
    { name: 'Vennesla', country_id: countryMap['Norway'] },
    { name: 'Lulea', country_id: countryMap['Sweden'] },
    { name: 'Genoa', country_id: countryMap['Italy'] },
    { name: 'Kinshasa', country_id: countryMap['DRC'] },
    { name: 'Cairo', country_id: countryMap['Egypt'] },
    { name: 'Lilongwe', country_id: countryMap['Malawi'] },
    { name: 'Rabat', country_id: countryMap['Morocco'] },
    { name: 'Bandar Seri Begawan', country_id: countryMap['Brunei'] },
    { name: 'Bali', country_id: countryMap['Indonesia'] },
    { name: 'Baguio', country_id: countryMap['Philippines'] },
    { name: 'Boracay', country_id: countryMap['Philippines'] },
    { name: 'Davao City', country_id: countryMap['Philippines'] },
    { name: 'Vigan/Ilocos', country_id: countryMap['Philippines'] },
    { name: 'Da Nang', country_id: countryMap['Vietnam'] },
    { name: 'Uvita', country_id: countryMap['Costa Rica'] },
    { name: 'Mazar-i-Sharif', country_id: countryMap['Afghanistan'] },
    { name: 'Stockton', country_id: countryMap['USA CA'] },
    { name: 'Lansing', country_id: countryMap['USA MI'] },
    { name: 'Agadir', country_id: countryMap['Morocco'] },
    { name: 'Tunis', country_id: countryMap['Tunisia'] },
    { name: 'Dhaka', country_id: countryMap['Bangladesh'] },
    { name: 'Shenzhen', country_id: countryMap['China'] },
    { name: 'Suzhou', country_id: countryMap['China'] },
    { name: 'Chamoli', country_id: countryMap['India'] },
    { name: 'Osaka', country_id: countryMap['Japan'] },
    { name: 'Islamabad', country_id: countryMap['Pakistan'] },
    { name: 'Lahore', country_id: countryMap['Pakistan'] },
    { name: 'Siargao', country_id: countryMap['Philippines'] },
    { name: 'Siquijor', country_id: countryMap['Philippines'] },
    { name: 'Podgorica', country_id: countryMap['Montenegro'] },
    { name: 'Kharkiv', country_id: countryMap['Ukraine'] },
    { name: 'Little Rock', country_id: countryMap['USA AR'] },
    { name: 'Macon', country_id: countryMap['USA GA'] },
    { name: 'Quad Cities', country_id: countryMap['USA IA/IL'] },
    { name: 'Billings', country_id: countryMap['USA MT'] },
    { name: 'Dartmouth', country_id: countryMap['USA NH'] },
    { name: 'Princeton', country_id: countryMap['USA NJ'] },
    { name: 'Cincinnati', country_id: countryMap['USA OH'] },
    { name: 'Tulsa', country_id: countryMap['USA OK'] },
    { name: 'Pittsburgh', country_id: countryMap['USA PA'] },
    { name: 'Saint George', country_id: countryMap['USA UT'] },
    { name: 'Adelaide', country_id: countryMap['Australia'] },
    { name: 'Jakarta', country_id: countryMap['Indonesia'] },
    { name: 'Linz', country_id: countryMap['Austria'] },
    { name: 'Aarhus', country_id: countryMap['Denmark'] },
    { name: 'Leipzig', country_id: countryMap['Germany'] },
    { name: 'Ibiza', country_id: countryMap['Spain'] },
    { name: 'Thimphu', country_id: countryMap['Bhutan'] },
    { name: 'Ho Chi Minh City', country_id: countryMap['Vietnam'] },
    { name: 'Santo Domingo', country_id: countryMap['Rep.Dominicana'] },
    { name: 'Bitola', country_id: countryMap['Macedonia'] },
    { name: 'Krakow', country_id: countryMap['Poland'] },
    { name: 'Decentraland', country_id: countryMap['Earth'] },
    { name: 'Dubai', country_id: countryMap['UAE'] },
    { name: 'Acapulco', country_id: countryMap['Mexico'] },
    { name: 'Cancun', country_id: countryMap['Mexico'] },
    { name: 'Puerto Vallarta', country_id: countryMap['Mexico'] },
    { name: 'Tijuana', country_id: countryMap['Mexico'] },
    { name: 'Fort Myers', country_id: countryMap['USA FL'] },
    { name: 'Palm Beach', country_id: countryMap['USA FL'] },
    { name: 'Savannah', country_id: countryMap['USA GA'] },
    { name: 'Indianapolis', country_id: countryMap['USA IN'] },
    { name: 'Baton Rouge', country_id: countryMap['USA LA'] },
    { name: 'St. Louis', country_id: countryMap['USA MO'] },
    { name: 'Perth', country_id: countryMap['Australia'] },
    { name: 'La Plata', country_id: countryMap['Argentina'] },
    { name: 'Porto Alegre', country_id: countryMap['Brazil'] },
    { name: 'Puerto Varas', country_id: countryMap['Chile'] },
    { name: 'Arauca', country_id: countryMap['Colombia'] },
    { name: 'Mayapo', country_id: countryMap['Colombia'] },
    { name: 'Asunción', country_id: countryMap['Paraguay'] },
    { name: 'Cusco', country_id: countryMap['Peru'] },
    { name: 'Isla Margarita', country_id: countryMap['Venezuela'] },
    { name: 'Nice', country_id: countryMap['France'] },
    { name: 'Gibraltar', country_id: countryMap['Gibraltar'] },
    { name: 'Stockholm', country_id: countryMap['Sweden'] },
    { name: 'Geneva', country_id: countryMap['Switzerland'] },
    { name: 'New Brunswick', country_id: countryMap['Canada New Brunswick'] },
    {
      name: 'Newfoundland Labrador',
      country_id: countryMap['Canada Newfoundland Labrador'],
    },
    {
      name: 'Prince Edward Island',
      country_id: countryMap['Canada Prince Edward Island'],
    },
    { name: 'Christchurch', country_id: countryMap['New Zealand'] },
    { name: 'Macao', country_id: countryMap['China'] },
    { name: 'Yiwu', country_id: countryMap['China'] },
    { name: 'Yunnan', country_id: countryMap['China'] },
    { name: 'Vientiane', country_id: countryMap['Laos'] },
    { name: 'Genting', country_id: countryMap['Malaysia'] },
    { name: 'Koror', country_id: countryMap['Palau'] },
    { name: 'Paramaribo', country_id: countryMap['Suriname'] },
    { name: 'Varna', country_id: countryMap['Bulgaria'] },
    { name: 'Vilnius', country_id: countryMap['Lithuania'] },
    { name: 'Belgrade', country_id: countryMap['Serbia'] },
    { name: 'Nassau', country_id: countryMap['Bahamas'] },
    { name: 'Victoria', country_id: countryMap['Canada British Columbia'] },
    { name: 'Tucson', country_id: countryMap['USA AZ'] },
    { name: 'Sacramento', country_id: countryMap['USA CA'] },
    { name: 'Breckenridge', country_id: countryMap['USA CO'] },
    { name: 'Lafayette', country_id: countryMap['USA LA'] },
    { name: 'College Park', country_id: countryMap['USA MD'] },
    { name: 'Jackson', country_id: countryMap['USA MS'] },
    { name: 'Laconia', country_id: countryMap['USA NH'] },
    { name: 'Toledo', country_id: countryMap['USA OH'] },
    { name: 'Williamsburg', country_id: countryMap['USA VA'] },
    { name: 'Córdoba', country_id: countryMap['Argentina'] },
    { name: 'Salvador Bahia', country_id: countryMap['Brazil'] },
    { name: 'Quito', country_id: countryMap['Ecuador'] },
    { name: 'Innsbruck', country_id: countryMap['Austria'] },
    { name: 'Brussels', country_id: countryMap['Belgium'] },
    { name: 'Oulu', country_id: countryMap['Finland'] },
    { name: 'Montpellier', country_id: countryMap['France'] },
    { name: 'Nuremberg', country_id: countryMap['Germany'] },
    { name: 'Venice', country_id: countryMap['Italy'] },
    { name: 'Kongsberg', country_id: countryMap['Norway'] },
    { name: 'Svalbard', country_id: countryMap['Norway'] },
    { name: 'Lund', country_id: countryMap['Sweden'] },
    { name: 'Lugano', country_id: countryMap['Switzerland'] },
    { name: 'Cambridge', country_id: countryMap['UK'] },
    { name: 'Bruges', country_id: countryMap['Belgium'] },
    { name: 'Colombo', country_id: countryMap['Sri Lanka'] },
    { name: 'Galle', country_id: countryMap['Sri Lanka'] },
    { name: 'Kandy', country_id: countryMap['Sri Lanka'] },
  ]);
}
